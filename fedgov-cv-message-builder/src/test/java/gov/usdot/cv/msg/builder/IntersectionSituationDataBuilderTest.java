/*
 * Copyright (C) 2025 LEIDOS.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */

package gov.usdot.cv.msg.builder;

import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;

import static org.junit.Assert.assertEquals;
import org.junit.Before;
import org.junit.Test;

import gov.usdot.cv.msg.builder.message.IntersectionMessage;
public class IntersectionSituationDataBuilderTest {

    // Encoder encoder;
    IntersectionSituationDataBuilder builder;
    IntersectionMessage res;

    @Before
    public void setup() {
        builder = new IntersectionSituationDataBuilder();
    }

    @Test
    public void MapMessageWithFramePlusMapTypeTest() {
        String filePath = "src/test/resources/samplemap.json";
        String expectedHexString = "00124638693020216407a54cdb36463d4d6bee11c202dc00c0022ccc3bb2a0622800000028f0335bb5e4a64bc05050fa872885fa2668404fb2fa292fc028297d2c938814141e8b0b80";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithNoMessageTypeTest() {
        String filePath = "src/test/resources/intersection2.json";
        String expectedHexString = "001242380b30602000002d4ee11f6a39c931a613e802dc025002280000010000961419f59cb0690efa8581097ce7280314001000010000961949f544b0638f39c581ba7b9d";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithComputedLaneTest() {
        String filePath = "src/test/resources/intersection4_with_computed_lane.json";
        String expectedHexString = "00123f38023020206072094ee104f539c9439e17d302dc023002254802928400b60c71eaac0a146c0d23e0581414d82557b2f028286008480000020840028c746380";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithCrossWalksTest() {
        String filePath = "src/test/resources/intersection4_with_crosswalks.json";
        String expectedHexString = "00125038023020206072094ee104f539c9439e17d302dc023002254802928400b60c71eaac0a146c0d23e0581414d82557b2f0282810080002000002d933464f902851b0348f8160505360955ecbc0a0a00008";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWith20BitNodeOffsetEncodingTest() {
        String filePath = "src/test/resources/intersection_Automatic_20_Bit.json";
        String expectedHexString = "00122738013000204d520545b2a0403b1e49cd102802dc00300225480292840081955b80ca95008d4cf0";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWith64BitNodeOffsetEncodingTest() {
        String filePath = "src/test/resources/intersection_Automatic_64_Bit.json";
        String expectedHexString = "00123738013000204d520545b2a0403b1e49cd102802dc00300225480292840098ec6f65d22d6e33d98ec6e8f3e2d4396d98ec6fd11e2d1fb1b8";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithExplicit32BitNodeOffsetEncodingTest() {
        String filePath = "src/test/resources/intersection_Explicit_32_Bit.json";
        String expectedHexString = "00122b38013000204d520545b2a0403b1e49cd102802dc0030022548029284009596e89220af8823946583bf19bd";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithExplicit64BitNodeOffsetEncodingTest() {
        String filePath = "src/test/resources/intersection_Explicit_64_Bit.json";
        String expectedHexString = "00123738013000204d520545b2a0403b1e49cd102802dc00300225480292840098ec6f65d22d6e33d98ec6e8f3e2d4396d98ec6fd11e2d1fb1b8";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithTightEncodingNodeOffsetTest() {
        String filePath = "src/test/resources/samplemap2.json";
        String expectedHexString = "00128234380030003007b4014edb6fe539666b0e194c02dc241179445e18d8022ccc3bb2a062280000020003a9f9c4a40a0a5bf90c2c04fb0a01829950fa28804fb0a2c0f0c51fe7589ac019c09f605b05102775143612800000201016c0216661dd95032240000020002552d226805050dfde6e253fd18c813ec28110464c2d2d604fb06279210c8e2e0198e5253374bb013ec0aa87a05a4458ac1a00018096064000c06b0062ccc3bb2a0666400000400002b27d7e40a0a5f1fdfc8050536020b330eeca81a220000008000aadaa806028293dee08814140fba5a0e488aa0fa24407dd19828e800161a8000e08580aa800000400002b5ae7c80a0a5f175ff405050ac26000101560c400080cb00c2ccc3bb2a06cc40000040005aa45f9000a0a140e721860b6e80439fa8237be1134d8c0505029bb44158e060b0b7104a7a5821cc0c10056c07d7352c07740000028001d4d2dc9605050e0239300bfac0007aadc035b710181ad80a55b80436d703231e8ac20800081d61b0000410301104000004000028d9eb940a0a50a2405813ecb0122ccc3bb2a07324000004000028d725200a0a50aac08813ec581548000002000108a55e542769f484ea3780158d002c190000c24b02ed0000008000011312ff08a35fe816070001014d81834cc3bb2a062cb1000000200001139a6c88a05fe8161a4001016301ba40000040006299505e00a0a54000b0813ec27fa39b0c0b22c18165ac50b65d898c042c09f60c3e3ce182e5d80de012063cf14a8431a04fb00f52b408b9ec0";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithConnectingLaneTest() {
        String filePath = "src/test/resources/intersection8.json";
        String expectedHexString = "0012643801304030fd40044ee1052939c943fc02dc400701c394a14f8192008a000000005831c79342c1c53cdc0240d0000490085000000002c2ad3cdc161095e318120880002200684000000015e569ef24aef6cf6e2200884000000015e461f86caed5af5ae0";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithDeltaWidthTest() {
        String filePath = "src/test/resources/intersection11.json";
        String expectedHexString = "0012817a38013020317c98054ee11bf839c9785f172602dc241179445e18580228000000400235fb2dec38121e6c084beec8243cd80dd7ce704879b018ef7ea090f360215ef7c121e6c00b3e318243c090d4000124021400000014b0058f7d4580f37d972c063beb596026df4a4b01e6f8c65809b7cd12c037be478243100004900c5000000062c0c73e631603cdf5acb0162fad6580b17cfd2c063be9f9602c5f4fcb010af9fa5802c7def04854000112020a01000006582d97db82c079bed696026df764b0162fad6580b17ce72484c000124149000920c40004200a4404000001615c60920b0a890632200c4400000001612aa0d98b0a890632480e680000000160f8e12c0b0dd107ea090b8000324083402000000b06390b72586fe83f50484900020804a100000000d7e72851e04b21afb57081609640805210000000057d1084162beb4c1fa8805a900000000d7c8c800b04b21af2e0f84209640806290000000057c767e102bcb83e108806a90000000057c607c162bcce3e2680";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithMapTypeTest() {
        String filePath = "src/test/resources/samplemap3.json";
        String expectedHexString = "38013000204db2054d7591193cb57a27118602dc0e5802280000050003a85317a80a0a18e21ac0b3333a200a0a087c7801110fd043a7018a24585d027d821de2ba802256c09f615824000100ac088000808b0221000000c0007508439d01414330b37384082d4aa13874d028282629e608ab2019466102204fb2856a22c09f619fc62b62b064000103582c0000820c02a9000001000102e319f10eaa9961c1f2881dfda00dd2ed06835f8308c9c147e0a0a6f2d04452b8802210000000e2e928b80ed29da1ce33e438826583c5bcc1bd6668bc773027d81425d00a6f4a1802220000020002050e06a2881918027d80e923006a90703048c01264ec04627600653b08265c80245a32c033400000280025531e6b804fb01e30940cf904066535026e8680e74ec062aea01a55e001caf04cdb520172cc0ac10800101560d000080c300cc40000040003a9f6f3fc0a0a0b71e1015b9c4c076f4202ff3e00b1880013bcc24eab68030b2cb01dd000000c0007535be658141416d7b392cf70181414846fbe027d805470813ef56c04056613153fc26e2850ac0a000201d60880010100";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithMapTypeAndExplicitNodeOffsetEncodingType() {
        String filePath = "src/test/resources/samplemap4.json";
        String expectedHexString = "38023000201428094edb9bd3396687aa196a02dc0e200224000000518e59a274276dcf1b98e59a262e76dd28a18e59a25a676dd61f38e59a249276dd91b814146396688df9db7735a6396689479db77db4e39668a5a9db784aa050518e59a306a76de24318e59a3a1a76de34198e59a456676de3e718e59a4e8e76de3f418e59a561676de3cd920112000000186396685c89db7393c6396685eb9db744fa6396685eb9db7518463966860d9db75c76e396686309db76dc6050518e59a194a76ddd5598e59a19d276ddf3998e59a1bfa76de0c4b8e59a204a76de21c81414639668a5b9db78d6a639668cc79db790cc6396690029db793646396692909db793966396695cb9db792fe48030240281201c08400cc8000000171cb340bd4edb981f027d8c72ccf3a93b6e5551c72ccdeb53b6e46c009f624044400000005c72cd04bd3b6e566809f631cb33d4ecedb932971cb33840cedb8fc0027d890020880504403820802a900000002e396685909db727f204fb18e59a16ae76dc66218e59a156e76dc28292033200000002e396688d09db7286a04fb18e59a22d676dc66c38e59a22d676dc296013ec48010640183201c18401dc8000000b31cb34706cedb99c931cb348c7cedb9ca731cb349c6cedb9f0e31cb34a2b4edba14331cb34a53cedba37931cb34a3f4edba57331cb34a09cedba71331cb349764edba92131cb348b3cedbab0771cb347a0cedbad6402828c72cd1af33b6ebcd8c72cd186f3b6ec3d4c72cd15653b6ecd98902210000000831cb3461bcedb9beb31cb347a7cedb9e1631cb348924edba01031cb348d54edba26d31cb348c7cedba47b31cb348924edba63931cb347f84edba8a031cb34706cedbab1b71cb345eccedbadbd02828c72cd15153b6ebdc8900210803084028400";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void MapMessageWithConnectingLaneManeuversTest() {
        String filePath = "src/test/resources/samplemap5.json";
        String expectedHexString = "0012815e38023000201428094edb9bd3396687aa196a02dc0e200224000000506e2ea813e3fd009f93fd54f8fd4405050df8f84a142aedfa671fde0282835c73706ffe360e54ae00f8e1c071cd59201120000001801cae2140e7428a003bdc5039c28b80e66780a0a140e6198a0730cc31cbb6a671efc02828378f6183fff843aaab8070e41c0eaa75648030240281201c08400cc8000000151731f1813ec21b14e759d717e804fb12022200000002a3a2117027d84336a94b3d530d809f624008220141100e08200aa40000000adc88748027d870163ff8df7c7642406640000000570f23c5013ec37f51f4d70003bd013ec48010640183201c18401dc8000000b16a22de8772f2f0da4d56194d9d0310b3a05efe320351e78586e480abfc389477a800a0a0a88c0c03dff00abfd6c481108000000407e0c1b0e8ccd21b078c831bf5005f56480351f805816ab0a72d829461bb40a0a01d9f292004210061080508";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void mapMessageWithRegionIDTest() {
        String filePath = "src/test/resources/samplemap6.json"; 
        String expectedHexString = "00128160380230002200081428094edb9bd3396687aa196a02dc0e200224000000506e2ea813e3fd009f93fd54f8fd4405050df8f84a142aedfa671fde0282835c73706ffe360e54ae00f8e1c071cd59201120000001801cae2140e7428a003bdc5039c28b80e66780a0a140e6198a0730cc31cbb6a671efc02828378f6183fff843aaab8070e41c0eaa75648030240281201c08400cc8000000151731f1813ec21b14e759d717e804fb12022200000002a3a2117027d84336a94b3d530d809f624008220141100e08200aa40000000adc88748027d870163ff8df7c7642406640000000570f23c5013ec37f51f4d70003bd013ec48010640183201c18401dc8000000b16a22de8772f2f0da4d56194d9d0310b3a05efe320351e78586e480abfc389477a800a0a0a88c0c03dff00abfd6c481108000000407e0c1b0e8ccd21b078c831bf5005f56480351f805816ab0a72d829461bb40a0a01d9f292004210061080508";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void mapMessageWithNodeSpeedLimitTest() {
        String filePath = "src/test/resources/samplemap7.json"; 
        String expectedHexString = "0012819038023000301428094edb9bd3396687aa196a02dc083ee03880089000000141b8baa04f8ff4027e4ff553e3f510141437e3e12850abb7e99c7f780a0a0d71cdc1bff8d83952b803e38701c735648044800000060072b885039d0a2800ef7140e70a2e03999e028285039866281cc330c72eda99c7bf00a0a0de3d860fffe10eaaae01c390703aa9d59200c0900a04807021003320000000545cc7c604fb086c539d675c5fa013ec4808880000000a8e8845c09f610cdaa52cf54c36027d890020880504403820802a900000002b7221d2009f61c058ffe37df1d9090199000000015c3c8f1404fb0dfd47d35c000ef404fb12004190060c807061007720000002c5a88b7a1dcbcbc36935586536740c42ce817bf8c80d479e161b9202aff0e251dea0028282a230300f7fc02aff5b120442000000101f8306c3a333486c1e320c6fd4097d592020299437e1394a4df8729ea1a8fc0202985096337e283d8537e25816ab080a6a37e2cdf8c37e14df894e5b04202814b5a9461bb4282814c3b0520ecf94202820fb848010840184201420";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void mapMessageWithFullRAIDTest() {
        String filePath = "src/test/resources/samplemap8.json"; 
        String expectedHexString = "0012819d38023000b01428094edb9bd3396687aa196a02dc083ee03880089000000141b8baa04f8ff4027e4ff553e3f510141437e3e12850abb7e99c7f780a0a0d71cdc1bff8d83952b803e38701c735648044800000060072b885039d0a2800ef7140e70a2e03999e028285039866281cc330c72eda99c7bf00a0a0de3d860fffe10eaaae01c390703aa9d59200c0900a04807021003320000000545cc7c604fb086c539d675c5fa013ec4808880000000a8e8845c09f610cdaa52cf54c36027d890020880504403820802a900000002b7221d2009f61c058ffe37df1d9090199000000015c3c8f1404fb0dfd47d35c000ef404fb12004190060c807061007720000002c5a88b7a1dcbcbc36935586536740c42ce817bf8c80d479e161b9202aff0e251dea0028282a230300f7fc02aff5b120442000000101f8306c3a333486c1e320c6fd4097d592020299437e1394a4df8729ea1a8fc0202985096337e283d8537e25816ab080a6a37e2cdf8c37e14df894e5b04202814b5a9461bb4282814c3b0520ecf94202820fb848010840184201420042c092a864886f70d01010500";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void mapMessageWithRelRAIDTest() {
        String filePath = "src/test/resources/samplemap9.json"; 
        String expectedHexString = "0012819e38023000b01428094edb9bd3396687aa196a02dc083ee03880089000000141b8baa04f8ff4027e4ff553e3f510141437e3e12850abb7e99c7f780a0a0d71cdc1bff8d83952b803e38701c735648044800000060072b885039d0a2800ef7140e70a2e03999e028285039866281cc330c72eda99c7bf00a0a0de3d860fffe10eaaae01c390703aa9d59200c0900a04807021003320000000545cc7c604fb086c539d675c5fa013ec4808880000000a8e8845c09f610cdaa52cf54c36027d890020880504403820802a900000002b7221d2009f61c058ffe37df1d9090199000000015c3c8f1404fb0dfd47d35c000ef404fb12004190060c807061007720000002c5a88b7a1dcbcbc36935586536740c42ce817bf8c80d479e161b9202aff0e251dea0028282a230300f7fc02aff5b120442000000101f8306c3a333486c1e320c6fd4097d592020299437e1394a4df8729ea1a8fc0202985096337e283d8537e25816ab080a6a37e2cdf8c37e14df894e5b04202814b5a9461bb4282814c3b0520ecf94202820fb84801084018420142004310a0102864886f70d01010500";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void mapMessageNoRAIDTest() {
        String filePath = "src/test/resources/samplemap10.json"; 
        String expectedHexString = "0012819038023000301428094edb9bd3396687aa196a02dc083ee03880089000000141b8baa04f8ff4027e4ff553e3f510141437e3e12850abb7e99c7f780a0a0d71cdc1bff8d83952b803e38701c735648044800000060072b885039d0a2800ef7140e70a2e03999e028285039866281cc330c72eda99c7bf00a0a0de3d860fffe10eaaae01c390703aa9d59200c0900a04807021003320000000545cc7c604fb086c539d675c5fa013ec4808880000000a8e8845c09f610cdaa52cf54c36027d890020880504403820802a900000002b7221d2009f61c058ffe37df1d9090199000000015c3c8f1404fb0dfd47d35c000ef404fb12004190060c807061007720000002c5a88b7a1dcbcbc36935586536740c42ce817bf8c80d479e161b9202aff0e251dea0028282a230300f7fc02aff5b120442000000101f8306c3a333486c1e320c6fd4097d592020299437e1394a4df8729ea1a8fc0202985096337e283d8537e25816ab080a6a37e2cdf8c37e14df894e5b04202814b5a9461bb4282814c3b0520ecf94202820fb848010840184201420";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaBaseLayerMessageWithFramePlusRGATypeTest() {
        String filePath = "src/test/resources/samplerga.json";
        String expectedHexString = "00404a66d9b231ea6b5f708e13f4105024aa19221bdc340404141202060c020a0a0e060201fdfa082d080081a400";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaBaseLayerMessageWithFramePlusRGATypeTestRelativeRAID() {
        String filePath = "src/test/resources/samplerga2.json";
        String expectedHexString = "002b300000404a66d9b231ea6b5f708e13f3b55428040a19221bdc340404141202060c020a0a0e060201fdf9daa9600065a400";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageFromUI() {
        String filePath = "src/test/resources/samplerga3.json"; 
        String expectedHexString = "002b82840300404a76dcde99cb343d50cb53f4571024aa19221bdc3404041406182c4203fdfa2b88280011a4040747440000148000024c000035000004540000558000065c0000760000080608581c0100b45b8a5d505800805b919f1cdf406800580119f90dfea6800580119f1cdd44686458011df8e7c251e000b002342a9b6fcd000b0022ce32fde2c64580116b8973716002c008b7fcb8d8b00160045ca85ae05800b00227c648709002c0089c711ab2400b0000401a883912e22400805b91a070dd0a680058011a000ddee680058011a070dc28680058011e0387ccf1e0c8b002340e1b0ccd000b002340e1b0ccd000b0022c722f6d2c0058011671977e16322c008b78cbb0cb00160044ffc9f092005801175516b816002c008b870b070b00160045d5457565800b000060048c5cc63e333ce2016e461b132739a001600473ae1d7e877ce2c0002001231d11845ccf38805b91866cca94680058011cf54761b1df38b0000a0048ee4439d20ef9c402dc8f01639ffcf00058011df7c73b21e000b0000c0048f0f239e28ef9c402dc8efea39f4cf00058011e00073bd1df38b0000e0188da8865bd34002016e45dca5e5e5800b0022da42eab2c0058011653173a16002c008b108b9d0b001600457be5c645800b00223504f3c9002c008ac34b920b0016004557e5c385800b0022a3b2ea02c6458011544170316002c00887b93f02400b0022abf2eb62c0058000800945f8258365800805b91746173496002c008b60cb8c8b001600458de5d405800b0022bea2e482c00580111a827e04801600456045d565800b0022a722ec12c0058011518177696322c00887613e52400b0000001083804140000081200000c1400001012000014140000181200001c140000201200000";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehicleGeometryContainerMandatoryFieldsTight() {
        String filePath = "src/test/resources/samplerga4.json"; 
        String expectedHexString = "002b83a90300404a76db7f29cb335870ca63f46154140a059e48200c0302d5037c5805fdfa30ad300035a4040bcc440000148000024c000035000004540000558000065c0000760000086400009680000a6c0000b700000c740000d0060ac83001008467e730949a19100b723bf90e6163be716004680630531a0016004687d30a219e71600468b031e19a001600468ff31d61a00160045ac050ce5738b00225b042889002c00893b91452400b000040148d2d2613434322016e477f79cdc478002c008cff4631933ce2c008d022604634002c008b0b4a5acae716004589e52425800b0022c8e29702c005801166394a496002c008b374a5d8ae7160044aa883d1200580112d22116480160000c0051b27ccbf26864402dc8fc7f3bf90f06458000400646daa34031a19100b722f7b2c112c64580113ee24b4480160045c9058aa5800b00227d049109002c0089f712332400b002251c48009002c0002800a36b59a7c8d0c8805b91f8ba77fd1e0c8b0000c0188d22e6e4034322016e4681c37219a0016004582c5dd05800b00224384fd49002c00891b92f82400b00224d24b189322c00894d92d12400b00225624c0c9002c00896113712400b00224a64d2c9002c00890e13032400b00224004ad89002c0088fa93352400b0000e0108cd2c6e4b34322016e478089f26078002c008afe8b800b001600447a896e1200580111ad25c448016004460495b12005801114a25b848016004443496b920058011191247a480160002000518d9cd5ca6864402dc8c288680b33ce2c0004800a31ae1a520d0c8805b918554d022679c58000a0034629533ca9a00100b7229da2be92c00580114ea15bc16002c00885611a02400b000160028c4c465fe34002016e4628d33fd1a001600030005189ccc9b26800402dc8c50267fa34002c0006806a332a185e0d0c8805b91a000c2c2679c580119fe8c736680058011605948b16002c008b02ca5acb0016004685b31761a001600458c052165738b0022c3e29e72c005801160b94bb16002c0088de10092400b002231e43c49002c008aa10a634ae71600443d485692005801111721ec48016000201a86004120000081200000c1400001012000014120000181400001c1200002014000024140000281200002c12000030120000341400004d81c0200082024010804080600304018040010101a01440504048030201803880e0808008040680a0024100c02c00a040180c002c101a04560e01000804008404000030100200100200a2050000300801c40e020080000500240201600a00006002c0400";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehicleAndBikeGeometryContainerMandatoryFieldsStandard() {
        String filePath = "src/test/resources/samplerga5.json"; 
        String expectedHexString = "002b84350300404a76db7f29cb335870ca63f46154140a059e48200c0302d5037c5805fdfa30ad300035a4080bcc440400148000024c000035000004540000558000065c0000760000086404009680000a6c0000b700000c740000d0060b3c280200a4a816953c9a2a019100b7253ff7a9db8950000b00253ffd29ec654ff38b00254008a9e11950000b00254016a9f5ad4ff38b00254027a9f48550000b0025404729f5c150000b00254063a9f52550000b0025406ea9f5d94ff38b0025405529f9e950000b0025406929fa2d50000b0000600295093ea7df9540322016e4a8c7f53ff22a01916000100192a16a95000ca8064402dc9506f6a8011540322c009503dca805a540002c00950490a8055540002c009503d0a8044540002c009503dca8033540002c0095011ca8000540002c0002800a542b5aa07c9500c8805b92a31754fff4a806458000600c4a8117543202a019100b725400e2a190d50000b0025400b2a0ba150000b0025400e2a07d550000b0025401baa03e150000b00254034aa0319500c8b0025404daa034550000b00254058aa040d50000b002540612a05c550000b00254029aa052d50000b0025400e2a040d50000b002540002a02d950000b00253ffaaa04d550000b0000e01094fd2ca864b540322016e4a8011544982a00016004a7ffa541002a00016004a7fea5406e2a00016004a7fad540712a00016004a7f815405b2a00016004a7f4a5406e2a00016004a7f0d5406baa00016004a7f915401eaa000160002000529ed9d505caa8064402dc94f288a800b53fce2c0005001a53d4aa9fe5550000805b929f7694ffd2a8000580129f7514fef0a8000580129fab14ff40a800058000b0014a7a6253eff2a000100b7253d46a9ffe950000b0001800294f4e6a7cd9540002016e4a7a8153ffd2a000160003403529f9514f2f0a8064402dc950000a796153fce2c0094fff4a7b9b540002c00950016a7d16540002c00950016a7d6b540002c009500b6a7aec540002c009500c0a7d0b53fce2c0095007ca7de7540002c0095002ea7d76540002c0094ff78a7e09540002c0094ff1ea7ef1540002c0094fd08a7d8d53fce2c0094fdeaa7ead540002c0094fe2ea7ef6540002c00009d8080201094ffcea7929540322016e4a7fe453b0b29fe716004a800653c532a00016004a807d53ca229fe716004a80b053de1aa00016004a80ff53dd62a00016004a816053e33a9fe716004a80d853f512a00016004a807753fa2aa000160002400529ed7150290a8064402dc94f2aaa801153fce2c0003016850081200000c1400001012000014120000181400001c12000020140000281200002c12000030120000341400004c418042010201800c100601000404068051014121200c080600e20382020020101a028009040300b0028100603000b04068044e0c0210100000c040080040080288140000c02007103808020000140090080580280001800b0100307000100041212000";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehicleBikeAndCrosswalkGeometryContainerMandatoryFieldsStandard() {
        String filePath = "src/test/resources/samplerga6.json"; 
        String expectedHexString = "002b83f30300404a76db7f29cb335870ca63f46154140a059e48200c0302d5037c5805fdfa30ad300035a40c0bcc440400148000024c000035000004540000558000065c0000760000086404009680000a6c0000b700000c740000d0060a08280200a478b49d26878322016e477f79cdc478002c008effa3ac64ef9c58011e02274231e000b0023c0b4ed6b3be71600478279da4278002c008f08e3b5c0f00058011e18e76a49e000b0023c374ed763be71600478551dcf478002c008f0d23ba2cf00058000300147a4f9dbf278322016e47e3f9dfc878322c000200323d6a8f0063c19100b723cdecf0113c191600478f71e0b478002c008f2483c154f00058011e3d078221e000b0023c7b8f0333c001600478471e00078002c0002800a3d5acf1f23c19100b723f174effa3c1916000180311e22e7b201e0c8805b91e0387b219e000b0023c058f2e83c0016004780e1e3ea78002c008f0373c3e0f00058011e0d278631e0c8b0023c26cf0d13c001600478589e20678002c008f0c23c5c4f00058011e0a678a59e000b0023c070f1033c001600478001e16c78002c008eff53c4d4f0005800070084774b1ec9678322016e478089f26078002c008effa3c800f00058011dfd4786e1e000b0023beb4f0e23c001600477c09e16c78002c008ef4a3c370f00058011de1a786b9e000b0023be44f03d3c0016000200051d6ce79729e0c8805b91d28878059df38b000140068ea953be54f000402dc8edda3bfa4f00058011dba877bc1e000b0023bab0efa03c00160002c0051d4c476ff1e000805b91d51a77fd1e000b000180028ea733b364f000402dc8ea813bfe8f00058000d00d4772a1d2f078322016e478001d2c277ce2c008effa3ae6cf00058011e016768b1e000b0023c02ced6b3c0016004782d9d5d878002c008f0603b42cef9c58011e07c76f39e000b0023c05ced763c001600477de1dc1278002c008ef8f3bbc4f00058011dd0876c69df38b0023bbd4eead3c0016004778b9ddec78002c0009a808020108efe73a4a4f064402dc8efe439858ef9c58011e00c74531e000b0023c1f4e9443be71600478581d78678002c008f0ff3aeb0f00058011e2c076339df38b0023c360eea23c0016004783b9de8a78002c0004800a3ad70f1483c19100b723a554f0113be7160000c5800380051e7d67a2e1fa90805b91e03273e19e000b0003016850081200000c1400001012000014120000181400001c12000020140000281200002c12000030120000341400004c418042010201800c100601000404068051014121200c080600e20382020020101a028009040300b0028100603000b04068044e0c0210100000c040080040080288140000c02007103808020000140090080580280001800b010030700010004121200";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageLaneWidthFields() {
        String filePath = "src/test/resources/samplerga7.json"; 
        String expectedHexString = "002b812e0380404a66e7c801ea6e24108c33f461540c08a4740a050e4302e641fdfa30ae3000cda404078744001010948000024c000035000004540000558000065c0000760000080602c8200100146d7c32b21a00100b723e3f0eeb43c191600024804681e34301a14100b70040028dcd466b034002016e47c489dd8078002c0001800a357c1b220d000805b91a950d9ec679c580004001469aa36a91a00100b7235241b6a0cf38b0000a0028e7313cb14f000402dc8c39e69fe34002c0003000a39ba4f1553c00100b7230ac1a888d000b0000e0028c7f8630734322016e465d031c09a00160002000519794c47a6864402dc8cc8e63f734002c000000128400412000024120000081400000c1200001014000014120000181400001c12000020140000000b00008001008808400250080";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageLaneTimeRestrictionsFields() {
        String filePath = "src/test/resources/samplerga8.json"; 
        String expectedHexString = "002b836b0300404a6bac88c9e5abd1388c33f4615016052e1f05cc0a002b03960007fdfa30ad3000e9a4040747440000160000085400005500000448000024c0000358000065c00007060ae81d010084614c32f51a00100b7238e20ed603c191600473331dd1078322c008a1f0af00b0016004511057e85800b00230e99a030d000b00231229a174cf38b00228772c572c00580118020d2b6679c5800008402100108c210673a34322016e4730b1db9c78002c008c08266a534002c008c270674d34322c008a628af30b001600462ac34031a00160046330340899e716004615a344599e71600473f89e2b678002c00007203fbf4985800000366fefd2ff6000000d990500946e3134f89a00100b722eaa2ccb2c0058011707965116002c0089df92d02400b00226e84bb49002c0089a092bf2400b00226104c9c9002c00894793052400b00225364cb49002c00891112572400b0000107c4100211ba48d1706800402dc8bb48b3b4b00160045ce259f25800b0022e202ccb2c00580113c525e6480160044de89999200580112f126e6467160044a1097412005801129b269448016000038f9fdfa4c2c000001abff7ea2e30000006ae81004a343818d44d000805b91206223046716004474888c1200580111aa220e48016004460888c120058011126227648016004423089d920058011019227648016004504c55c85800b0022122468c9002c000049f040c0291a63cc6b8679c402dc88f190252400b002233e42089002c0088cc91352400b002226e44349002c008873913b2400b002218a45d49002c008834915e2400b002201c45789002c008a66cad48b001600442e48cc120058000093e283004233ed9b3fcd0c8805b915b8978416002c008ab70bc4cb001600443b49d09200580110bf267c48016004416098812005801101325e64801600452745ada5800b00220604b2c9002c00004a0041c02119adcd9966864402dc8adacbb38b0016004567a5c0658c8b00222364ef88ce2c00885413842400b00229f72d5b2c0058011080256648016004531459fe5800b00229b82d0a2c0058000094020201083804120000201200001414000010140000081400000c120000181400001c1200004940c0220082010008100402040304030020201401880a08040060403007101c100401008040043a0601100800008040102030080200000c40a0200600003881c0001001000";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehicleBikeAndCrosswalkLaneTimeRestrictionsFields() {
        String filePath = "src/test/resources/samplerga9.json"; 
        String expectedHexString = "002b83d00300404a6bac88c9e5abd1388c33f4615016052e1f05cc0a002b03960007fdfa30ad3000e9a40c0747440000160000085400005500000448000024c0400358040065c0000706083c15010084614c32f51a19100b7238e20ed603c001600473331dd1078322c008a1f0af00b0016004511057e85800b00230e99a030d000b00231229a174cf38b00228772c572c00580118020d2b6679c5800008402100108c210673a34322016e4730b1db9c78002c008c08266a534002c008c270674d34322c008a628af30b001600462ac34031a00160046330340899e716004615a344599e71600473f89e2b678002c00007203fbf4985800000366fefd2ff6000000d990500946e3134f89a00100b722eaa2ccb2c0058011707965116002c0089df92d02400b00226e84bb49002c0089a092bf2400b00226104c9c9002c00894793052400b00225364cb49002c00891112572400b0000107c4100211ba48d1706800402dc8bb48b3b4b00160045ce259f25800b0022e202ccb2c00580113c525e6480160044de89999200580112f126e6467160044a1097412005801129b269448016000038f9fdfa4c2c000001abff7ea2e30000006ae81004a343818d44d000805b91206223046716004474888c1200580111aa220e48016004460888c120058011126227648016004423089d920058011019227648016004504c55c85800b0022122468c9002c000049f041c02119adcd9966864402dc8adacbb38b0016004567a5c0658c8b00222364ef88ce2c00885413842400b00229f72d5b2c0058011080256648016004531459fe5800b00229b82d0a2c0058000094020a02b00a060148d31e635c33ce2016e4478c81292005801119f210448016004466489a920058011137221a48016004439c89d9200580110c522ea4801600441a48af12005801100e22bc48016004533656a45800b002217246609002c000049f141802119f6cd9fe6864402dc8adc4bc20b001600455b85e265800b00221da4e849002c00885f933e2400b00220b04c409002c00880992f32400b002293a2d6d2c0058011030259648016000025000db4342800517cc972196002016e4591e52e458c8b000012805090014636d34341a19100b722c7e29782c00580000940085800a29e92f6a2c64402dc8bb48b22cae716000038f9fdfa502c000001baff7e98fb0000006ea86000a2b4728562c00402dc8bb04b1d0b00160000210000300c82804120000201200001414000010140000081400001c120000470080220082010008100402040304830020201403880e080200804020042c0401100800008040102030080200001c40e00008008030a00031014100800c09060";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageComputedLaneTimeRestrictionsFields() {
        String filePath = "src/test/resources/samplerga10.json"; 
        String expectedHexString = "002b81440380404a66e7c801ea6e24108c33f461540c08a4740a050e4302e641fdfa30ae3000cda404078744001010948000024c000035000004540000558000065c00007600000806032020010014a857c53eb22a019100b725447e29fad150000b0001240233e119da4d0c8805b8020014a866a53f582a000100b7254448a9fb0150000b000060029505f0a8488540002016e4a82545427b29fe716000100052a06a950aa4a8000402dc950490a85a853fce2c0002800a53b98aa0b1550000805b929e73d503fca80005800060014a76e9540aaaa000100b7253cac2a088950000b0000e00294f7f8a7b07540322016e4a7dd053dc0aa000160002000529f7954f47aa8064402dc94fc8ea7bf7540002c00000128400412000024120000081400000c1200001014000014120000181400001c12000020140000000b00008001008808100250080";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageComputedLaneWithCompactEncoding() {
        String filePath = "src/test/resources/samplerga11.json"; 
        String expectedHexString = "002b81320380404a66e7c801ea6e24108c33f461540c08a4740a050e4302e641fdfa30ae3000cda404078744001010948000024c000035000004540000558000065c0000760000080602d8200100147abe1dac878322016e47c7e1dd6878002c00049008cf84676934322016e0080051ecd477581e0c8805b91f12277601e000b000060028f2f83d220f000402dc8f2543d3d8f000580004001478d51eaa478002016e479241eb5078002c0002800a39cc4f2c53c00100b723a73cf1fe3c0016000180051cdd278aa9e000805b91d2b079111df38b0000e0028ebfc3ac1cf064402dc8edd03ae04f000580008001476f29d47a78322016e477239d7ee78002c00000128400412000024120000081400000c1200001014000014120000181400001c12000020140000000b00008001008808400250080";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehLaneDirectionOfTravel() {
        String filePath = "src/test/resources/samplerga12.json"; 
        String expectedHexString = "002b862b0300404a4f819561c8ead360dd73f4b2941409ee1f05cc0a002b03960007fdfa594c000001a4040b8758003100f0e11540000d5000409080a0c0b4c0020706184800204030544001020160003151716145c0021319120611e860100064a791a542b32a000100a2a53b692a214950000b00253b0d2a1e1150000b00253347aa464d50000b002536302a3655500c8b00253861aa2a4550000b00253ac9aa1b4950000b0001e00a94f1c4a877e54000201454a78b954345aa00016004a758154412aa00016004a52a154faf2a01916004a7922542622a00016004a77d3542402a000160003800d29e70551158a80644027694f172a867253fce2c0094eb70a87e8540002c0094f282a838a540002c0008803a53c052a10c5500008056529db7551108a8000580129d91550ebea80005801299a3d52358a8000580129c7b55135aa8064580129d5ed50e7ea8000580129d85d50e4aa8000580129edfd5080ea800058000d0014a7a6854521aa019100aca53f1e2a06bd50000b0001200a9507dca870454032201314a8908547192a01916004a87e954698aa01916004a87b95468eaa00016004a8aa2549612a00016004a83bd544a02a000160002000d2a171d50ee2a80644026295107ea8d25540322c00950efaa8c6e540322c0095090ca8982540002c00050022541702a1f81500c8804ed2a23fd51c80a806458012a2b59523c6a806458012a3c7d53500a800058012a16f55166aa800058000c0044a81745454baa01910098a5442f2a3559500c8b00254536aa45e9500c8b0025475daa672550000b0025430c2a2ecd4ff38b00016008950386a8899540322013b4a893b54740aa01916004a8a7b548a02a01916004a8ebd54d152a00016004a862d545eaaa000160001c0052a1a495091ca80644028a95026ca81a3540322c0003000a543cb2a0e61500c8805652a04f15035ea80645800180014a885c541602a03210098a540b6aa072150000b000080109510d4a78ff540322014f4a861a53b322a00016004a84d553bfbaa00016004a835d53caaa9fe716004a824853d252a00016004a832b53b57aa00016004a836d539d729fe716004a82d4539d6a9fe716004a82bc538f5a9fe7160000c00d2a1dc94f004a806440262950bf6a768f540002c00950598a7b6853fce2c009507cea7a94540002c000280325445829ed05500c88053d2a1c214e994a800058012a13494eff4a800058012a0dd14f232a7f9c58012a09654f472a800058012a0ce54ed04a800058012a054d4ef1ca7f9c5800020014a86c053b2b2a019100a2a54094a9f92950000b00002002950bf0a74c254032201454a813d53f26aa000160005401129f71d4ee2ea80004028a94e972a704953fce2c0094f06ca756853fce2c0094e540a6e6153f9c2c0094e606a6f0253fce2c000b801a53fc5a9d305500008051529e8654ef4aa8000580129b2f14cc24a7ed4580129b0094cbd4a7f385800160044a7ef553b202a000100a7a53b5b29cc314ff38b00253b20a9cb9d4ff38b0025394d29b9094fe70b0025397329bb9d4ff38b0002800694f976a77f254000201314a749c5380229fe716004a786e53ad629fe716004a7b4253c1ca9fe7160004c00529eca54f616a80004028a94fdbaa7e57540002c000c800a53c88a9f47150000804c529fa354fbb6a80005800120014a7a1f53e072a000100a2a53f5ca9f84150000b00002040480c0401400003c140000381400004414000034140000241400002014000028140000301400002c1400001c1200001812000060120000101400000c140000141400000852007073fbf4b41800000349fefd2cc6000000d256004881008a400e0e7f7e9683000000693fdfa598c000001a4ac0091021505000017050000160500001405000013048000190480001204800005d4382000082008078002080601c0008201c0888020812002040080900041002020001040100a00041026030401040680102064058002081200800082034018802081300204090050004100c054001040381714041002001220402040c0140404101a001c1cfefd2d06000000d27fbf4b3180000034904981c1000080003c0020100e0008040444020200200004800402010001008050004000182010100100002c0020000400080000c402010020080280040402a0010000b88040400400014000804000";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehManuversLayerUnSignalized() {
        String filePath = "src/test/resources/samplerga13.json"; 
        String expectedHexString = "002b81760380404a66e7c801ea6e24108c33f461540c08a4740a050e4302e641fdfa30ae3000cda4040747440000148000024c000035000004540000558000065c0000760000080602f01c010014a857c53eb22a019100b725447e29fad150000b00004002950cd4a7eb0540322016e4a889153f602a000160000c0052a0be150910a8000402dc9504a8a84f6540002c0002000a540d52a154950000805b92a092150b50a80005800050014a773154162aa000100b7253ce7aa07f950000b0000c00294edd2a8155540002016e4a79585411129fe7160001c00529eff14f60ea8064402dc94fba0a7b81540002c0004000a53ef2a9e8f5500c8805b929f91d4f7eea80005800201083804120000081400000c1200001014000014120000181400001c120000201400004a40804480820140025002040804000040c100e0000060404100a0000081404100800128050204028000042e04022008000080400601006000810020402002404012800002c0002000402202100094020";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehManuversLayerSignalized() {
        String filePath = "src/test/resources/samplerga14.json"; 
        String expectedHexString = "002b84560300404a76db7f29cb335870ca63f46154140a059e48200c0302d5037c5805fdfa30ad300035a4040bcc500000464000095400005600000858000065c0000744000014800002740000d700000c4c00003680000a6c0000b0060d0c30040064a85aa5400329fe7100b72541bdaa004550000b002540f72a016950000b002541242a015550000b002540f42a011150000b002540f72a00cd50000b002540472a000150000b0001200294f6b8a814853fce2016e4a795554008a9fe716000140052a15ad503e4a7f9c402dc9518baa7ffa540002c0004000a53db3aa0b954fe70805b929e51150016a800058000600c4a81175432029fe7100b725400e2a190d50000b0025400b2a0ba1500c8b0025400e2a07d550000b0025401baa03e150000b00254034aa031950000b0025404daa034550000b00254058aa040d50000b002540612a05c550000b00254029aa052d50000b0025400e2a040d50000b002540002a02d950000b00253ffaaa04d5500c8b0000e01094fd2ca864b53fce2016e4a8011544982a00016004a7ffa541002a00016004a7fea5406e2a01916004a7fad540712a00016004a7f815405b2a00016004a7f4a5406e2a00016004a7f0d5406ba9fe716004a7f915401eaa000160000402129ff9d4f252a7f9c402dc94ffc8a761653fce2c0095000ca78a6540002c009500faa7944540002c00950160a7bc3540002c009501fea7bac540002c009502c0a7c6753fce2c009501b0a7ea2540002c009500eea7f45540002c00010052540b4a9e4d14ff38805b929ffbd4edc4a7f9c580129ffe94f632a800058012a00454f08ca800058012a00b54fad6a800058012a013d4fa42a800058012a02394fae0a800058012a031d4fa92a800058012a03754faeca7f9c58012a02a94fcf4a800058012a03494fd16a800058000d00d4a7e5453cbc29fe7100b725400029e5854ff38b00253ffd29ee6d50000b00254005a9f45950000b00254005a9f5ad50000b0025402da9ebb150000b0025403029f42d50000b0025401f29f79d50000b0025400ba9f5d950000b00253fde29f82550000b00253fc7a9fbc550000b00253f4229f6354ff38b00253f7aa9fab550000b00253f8ba9fbd950000b0001800294f4e6a7cd953f9c2016e4a7a8153ffd2a000160000c0052a127d4fbf2a7f9c402dc9518fea7fe4540002c0005001a53d4aa9fe554ff38805b929f7694ffd2a7f9c580129f7514fef0a8000580129fab14ff40a800058000b0014a7a6253eff29fe7100b7253d46a9ffe94ff38b000201b86010120000241400001412000020140000181400001c12000004120008020480128001a0a000018090000060a0000140900001609000005401c080020203402880a08090060403007101c1010010080d00208082024003901fdfa5c2c000001a47f7e97fb000000690021408100c00128010304018004a00060016080d014004820180580140803004560e0400200401440a0000601003881c04010000010008040084040000301006002c040140090080580280000";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehManuversLayerUncontrolled() {
        String filePath = "src/test/resources/samplerga15.json"; 
        String expectedHexString = "002b83800300404a66e7c2c1ea6e26f88c33f461500c560958080502acf805fdfa30af3000e1a40807474c0000350000046c0000b700000c48000024400001540000558000060608c41c03002479451e9b878002016e47b741fe9e78322c008eff43c030f000580004001478b41ec6478002016e47b4b1fc9678322c0005804a3aea4eba03c19100b723bb60ee033c0016004777d1dc3478002c008ef463baa8f00058011de98773e1e000b0023be48ef013c001600477da1ddb278002c008efe33bc04f00058011e022778c1e000b0023c0d0eed93c0016000300251d9f675869e0c8805b91de2477271e000b0023bbbcee1a3c001600477779dc9c78002c008eee33b768f00058011df0c77639e000b0023bf48ef5e3c001600478031df1878002c008f0293bd90f00058011e09877951e000b000040108f5583be44f064402dc8f9063b9e8f00058011e92c77bd9e000b0023d4e4efc63c19160047af39e00078002c008f4103c044f00058011e6dc78259e000b0023cffcf0973c001600479df9e14478002c000080523d460ee4d3c19100b723d61cef0d3c001600479ee1ded278002c008f4683be60f06458011eafe77dd9e000b0023ce58f0003c001600479e81dfe878002c008f4393c0b8f00058011e55c78289e000b0023cb70f0683c00160047a1c9e17278002c0002803a39e4cf3423c00100b723a8d8f2713c0016004767a9e27277ce2c008edcc3c4e4f00058011dc18788b1e000b0023b5a4f1a13c001600477201e29478002c008efaf3c15cf000580006006473939e49078002016e4750b9e4ac78002c008ec483c638ef9c58011d80078f99e000b0023b9c0f1293c0016004771b1e2b678002c008eee53c3bcf00058000d5830280051d5bc79a01e000805b91ddd276aa9e000b000120028efe83d2f8f000402dc8f3163bc60f000580007001475809db7678002016e47a0b1dc9078322c0004000a3d284f0a03c00100b723bce8ed323c1916000020118380c1400001012004a000582800006024000010240000082800002828000030240000056c100848202004002500a06080b000e3e7f7e970b000000691fdfa5fec000001a4214080500094020c2014100600c080100c0402802201c1006010080500904058051020100400e080300c481020040001010405800021608030000045e0804202004a0180090500890610140000c0200c00801101c04010000090080288200000e0100620100100404816014";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehManuversLayerSignalizedWithYieldAndCaution() {
        String filePath = "src/test/resources/samplerga16.json"; 
        String expectedHexString = "002b83bd0300404a66e7c2c1ea6e26f88c33f461500c560958080502acf805fdfa30af3000e1a40807474c0000350000046c0000b700000c48000024400001540000558000060609d01c030024a828a5426e2a000100b72543742a3d3d500c8b00253ffa2a003150000b000080029502d0a8632540002016e4a869654725aa019160002c02529eea54f740a8064402dc94fdb0a7e03540002c0094fdf4a7e1a540002c0094fe8ca7eaa540002c0094fe98a7e7c540002c0094ff24a7f01540002c0094ff68a7ed9540002c0094ffc6a7f01540002c00950022a7f18540002c00950068a7ed9540002c0006004a53e7da9ec35500c8805b929fc494fc9ca8000580129fbbd4fc34a8000580129fbbd4fc9ca8000580129fb8d4fbb4a8000580129fe194fd8ea8000580129ff494febca800058012a00194ff18a800058012a00a54fec8a800058012a01314fe54a80005800020084a855853fc8aa019100b725448329f9e950000b0025424b29fded50000b0025429ca9ff19500c8b002542f3aa000150000b002542082a004550000b002541b72a012d50000b002541ffaa025d50000b002541dfaa028950000b00002014950a30a7e4d540322016e4a858753f86aa00016004a83dc53fb4aa00016004a846853fcc2a01916004a857f53fddaa00016004a8396540002a00016004a83d053ffa2a00016004a8439540172a00016004a82ae54028aa00016004a82dc540342a00016004a84395405caa000160001401d29de4d50684a8000402dc94f46ca8271540002c0094f9eaa813953fce2c0094fb98a8139540002c0094fc18a8116540002c0094fad2a81a1540002c0094fc80a814a540002c0094ff5ea8057540002c0003003253b93aa092150000805b929e85d504aca8000580129f1215031ca7f9c580129f001503e6a8000580129f9c150252a8000580129f8d9502b6a8000580129fb95501dea80005800d7c302800529eb7950680a8000402dc94fdd2a7d55540002c0004800a53ff42a12f950000805b92a0c594fe30a80005800080014a84a1540502a000100b7253f9d29f4c9500c8b0000e00294f602a7dbb540002016e4a841653f242a01916000020108380c140000101200002c140000301200000812000004140000141400001812000053010084020200400c101601408050184828200c000106040080002180805000001120e08030000420100a0000848202c00000a2040200801c100601890204008000202080b000042c100600000462080420200400c000140200c202800018840200c2080400880e020080000480401441000007008031008000020200b00800";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageMtrVehLaneSpeedLimitsLayer() {
        String filePath = "src/test/resources/samplerga17.json"; 
        String expectedHexString = "002b84070380404a76db7f29cb335870ca63f46154140a059e48200c0302d5037c5805fdfa30ad300035a4040acc500000464000095c0000758000066200ac0110000052000009b00002da000029300000dc000031d00003460c5428040064a85aa5400329fe7100b72541bdaa004550000b002540f72a016950000b002541242a015550000b002540f42a011150000b002540f72a00cd50000b002540472a000150000b0001200294f6b8a814853fce2016e4a795554008a9fe7160001c02129fa5950c96a7f9c402dc950022a8930540002c0094fff4a8200540002c0094ffd4a80dc540322c0094ff5aa80e2540002c0094ff02a80b6540002c0094fe94a80dc540002c0094fe1aa80d753fce2c0094ff22a803d540002c000300625408baa19014ff38805b92a007150c86a800058012a0059505d0a806458012a0071503eaa800058012a00dd501f0a800058012a01a55018ca800058012a026d501a2a800058012a02c550206a800058012a0309502e2a800058012a014d50296a800058012a007150206a800058012a00015016ca8000580129ffd55026aa80645800010084a7fe753c94a9fe7100b7253ff229d8594ff38b0025400329e29950000b0025403ea9e51150000b0025405829ef0d50000b0025407fa9eeb150000b002540b029f19d4ff38b0025406c29fa8950000b0025403ba9fd1550000b000040149502d2a7934540322016e4a7fef53b7129fb516004a7ffa53d8caa00016004a801153c232a00016004a802d53eb5aa00016004a804f53e90aa00016004a808e53eb82a00016004a80c753ea4aa00016004a80dd53ebb29fe716004a80aa53f3d2a00016004a80d253f45aa000160002c00529e9894fbfca7f9c402dc94f51aa7ffa53fce2c0005001a53d4aa9fe554ff38805b929f7694ffd2a7f9c580129f7514fef0a8000580129fab14ff40a80005800030014a849f53efca9fe7100b725463fa9ff9150000b0001800294f4e6a7cd953f9c2016e4a7a8153ffd2a000160003403529f9514f2f0a7f9c402dc950000a796153fce2c0094fff4a7b9b540002c00950016a7d16540002c00950016a7d6b540002c009500b6a7aec540002c009500c0a7d0b540002c0095007ca7de7540002c0095002ea7d76540002c0094ff78a7e09540002c0094ff1ea7ef1540002c0094fd08a7d8d53fce2c0094fdeaa7ead540002c0094fe2ea7ef6540002c0000201685010120000241400001c1200001814000004120000081200002c120000281200000c14000030120000341400004c418080020203403880e004004020340080020809004281020180001030401800002c00a040180a0024100c03000b04068004480c0400200401c40e02008000008004020042020000180802c0140000a0048040300160200004400040005023ee500094000445e20012804";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }

    @Test
    public void rgaMessageNoRAID() {
        String filePath = "src/test/resources/samplerga18.json";
        String expectedHexString = "0300404a66e7c2c1ea6e26f88c33f461402800ac0e580007f7e8c2b4c003a690201d1d300000d4000011b00002dc0000312000009100000550000156000018182740700c0092a0a29509b8a8000402dc950dd0a8f4f540002c0094ffe8a800c540002c0002000a540b42a18c950000805b92a1a5951c96a800058000b0094a7ba953dd02a000100b7253f6c29f80d50000b00253f7d29f86950000b00253fa329faa950000b00253fa629f9f150000b00253fc929fc0550000b00253fda29fb6550000b00253ff1a9fc0550000b00254008a9fc6150000b0025401a29fb6550000b0001801294f9f6a7b0d540002016e4a7f1253f272a00016004a7eef53f0d2a00016004a7eef53f272a00016004a7ee353eed2a00016004a7f8653f63aa00016004a7fd253faf2a00016004a800653fc62a00016004a802953fb22a00016004a804c53f952a00016000080212a15614ff22a8000402dc95120ca7e7a540002c0095092ca7f7b540002c00950a72a7fc6540002c00950bcea8000540002c00950820a8011540002c009506dca804b540002c009507fea8097540002c0095077ea80a2540002c000080525428c29f93550000805b92a161d4fe1aa800058012a0f714fed2a800058012a11a14ff30a800058012a15fd4ff76a800058012a0e5950000a800058012a0f414ffe8a800058012a10e55005ca800058012a0ab9500a2a800058012a0b71500d0a800058012a10e550172a80005800050074a7793541a12a000100b7253d1b2a09c550000b00253e7aaa04e550000b00253ee62a04e550000b00253f062a045950000b00253eb4aa068550000b00253f202a052950000b00253fd7aa015d50000b0000c00c94ee4ea8248540002016e4a7a175412b2a00016004a7c48540c72a00016004a7c00540f9aa00016004a7e7054094aa00016004a7e36540adaa00016004a7ee554077aa000160035f0c0a0014a7ade541a02a000100b7253f74a9f55550000b0001200294ffd0a84be540002016e4a831653f8c2a000160001c00529ec054fb76a8000402dc95082ca7e48540002c0004000a54250aa028150000805b929fce94fa64a800058000080420e03050000040480000b0500000c0480000204800001050000050500000604800013c04021008080100304058050201406100a080300604008060201401100e080300804028048202c0288100802007040180620081002002080b00b0401811702010808010030000500803080a000060100600400880e020080000480401441000007008031008000020200b0080";
        runIntersectionSituationDataBuilderTests(filePath, expectedHexString);
    }
    
    public void runIntersectionSituationDataBuilderTests(String filePath, String expectedHexString) {
        try {
            String jsonContent = new String(Files.readAllBytes(Paths.get(filePath)));
            res = builder.build(jsonContent);
           assertEquals(expectedHexString, res.getHexString());
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}